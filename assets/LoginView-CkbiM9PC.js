import{r as a,a as w,o as i,c as u,b as e,w as v,d as g,v as m,e as b,f as n,g as h}from"./index-CsmGTcOc.js";const y={class:"min-h-screen flex items-center justify-center bg-gray-100 p-6"},x={class:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg"},k=e("h1",{class:"text-3xl font-bold text-cyan-600 text-center mb-6"},"Login",-1),L={class:"mb-4"},S=e("label",{for:"username",class:"block text-gray-700 font-semibold mb-2"},"Username",-1),U={class:"mb-6"},V=e("label",{for:"password",class:"block text-gray-700 font-semibold mb-2"},"Password",-1),C=e("button",{type:"submit",class:"w-full bg-cyan-600 text-white py-3 rounded hover:bg-cyan-700"}," Login ",-1),P={key:0,class:"mt-6 p-4 bg-cyan-100 border border-cyan-600 rounded-lg text-center"},q=e("p",null,"Welcome! It looks like you're logging in for the first time.",-1),B={key:1,class:"mt-6 p-4 bg-red-100 border border-red-600 rounded-lg text-center"},E=e("p",null,"Login failed ! Confirm Username and Password.",-1),T=[E],N={__name:"LoginView",setup(D){const o=a(""),s=a(""),c=a(!1),r=a(!1),p=w(),_=async()=>{n().startLoading();const l=await h().login(o.value,s.value);l=="new"?(n().stopLoading(),c.value=!0,r.value=!1):l=="ok"?(console.log("Logging in..."),await h().login(o.value,s.value)=="ok"&&(n().stopLoading(),p.push("/"))):(n().stopLoading(),r.value=!0)},f=()=>{p.push({path:"/login-update",query:{username:o.value,password:btoa(s.value)}})};return(l,t)=>(i(),u("div",y,[e("div",x,[k,e("form",{onSubmit:v(_,["prevent"])},[e("div",L,[S,g(e("input",{"onUpdate:modelValue":t[0]||(t[0]=d=>o.value=d),type:"text",id:"username",class:"w-full p-3 border rounded",placeholder:"Enter your username",required:""},null,512),[[m,o.value]])]),e("div",U,[V,g(e("input",{"onUpdate:modelValue":t[1]||(t[1]=d=>s.value=d),type:"password",id:"password",class:"w-full p-3 border rounded",placeholder:"Enter your password",required:""},null,512),[[m,s.value]])]),C],32),c.value?(i(),u("div",P,[q,e("button",{onClick:f,class:"mt-4 bg-cyan-600 text-white py-2 px-4 rounded hover:bg-cyan-700"}," Click To Update Your Password ")])):b("",!0),r.value?(i(),u("div",B,T)):b("",!0)])]))}};export{N as default};
